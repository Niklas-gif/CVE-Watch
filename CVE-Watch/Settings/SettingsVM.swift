//
//  SettingsVM.swift
//  CVE-Watch
//
//  Created by Niklas Demel on 14.12.23.
//

import Foundation

class SettingsVM: ObservableObject {
    @Published var selectedMetric : MetricsVersion = .MetricsV2
    @Published var notifictation = false
    private let modelInterface = ModelInterface()
    
    init() {
        selectedMetric = UserSettings().metricsVersion
    }
    
    func setMetricsVersion(version: MetricsVersion) {
        UserSettings().metricsVersion = version
        selectedMetric = version
        modelInterface.saveSettings()
    }
    
    func loadSettings() {
        selectedMetric = UserSettings().metricsVersion
        notifictation = UserSettings().notification
    }
    
    func deleteCVES() {
        modelInterface.delete()
    }
    
    func toggleNotifications() {
        UserSettings().notification = notifictation
        
    }
    
}
